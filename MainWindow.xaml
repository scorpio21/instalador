<Window x:Class="Instalador.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Generador de Instalación Premium" Height="650" Width="1000"
        Background="#1E1E1E" Foreground="White"
        WindowStartupLocation="CenterScreen"
        FontFamily="Segoe UI"
        AllowsTransparency="False" WindowStyle="ThreeDBorderWindow">


    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/> <!-- Menú / Header -->
            <RowDefinition Height="*"/>    <!-- Log -->
            <RowDefinition Height="Auto"/> <!-- Status / Progreso -->
        </Grid.RowDefinitions>

        <!-- HEADER / MENU -->
        <Border Grid.Row="0" Background="#2D2D2D">
            <Menu Background="Transparent" Foreground="White" Padding="5">
                <MenuItem>
                    <MenuItem.Header>
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource IconArchivo}" Style="{StaticResource MenuIconPath}"/>
                            <TextBlock Text="Archivo" VerticalAlignment="Center"/>
                        </StackPanel>
                    </MenuItem.Header>
                    <MenuItem Header="Salir" Click="BtnSalir_Click">
                        <MenuItem.Icon>
                            <Path Data="{StaticResource IconSalir}" Style="{StaticResource MenuIconPath}" Width="14" Height="14" Margin="0"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>

                <MenuItem x:Name="MenuUtilidades" IsEnabled="False">
                    <MenuItem.Header>
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource IconUtilidades}" Style="{StaticResource MenuIconPath}"/>
                            <TextBlock Text="Utilidades" VerticalAlignment="Center"/>
                        </StackPanel>
                    </MenuItem.Header>
                    <MenuItem Header="Compilar">
                        <MenuItem.Icon>
                            <Path Data="{StaticResource IconCompilar}" Style="{StaticResource MenuIconPath}" Width="14" Height="14" Margin="0"/>
                        </MenuItem.Icon>
                        <MenuItem Header="Compilar Proyecto" Click="BtnCompilar_Click">
                            <MenuItem.Icon>
                                <Path Data="{StaticResource IconPlay}" Style="{StaticResource MenuIconPath}" Width="12" Height="12" Margin="0"/>
                            </MenuItem.Icon>
                        </MenuItem>
                    </MenuItem>
                    <MenuItem Header="Crear Zip">
                        <MenuItem.Icon>
                            <Path Data="{StaticResource IconZip}" Style="{StaticResource MenuIconPath}" Width="14" Height="14" Margin="0"/>
                        </MenuItem.Icon>
                        <MenuItem Header="Publicar single-file" Click="BtnPublicar_Click">
                            <MenuItem.Icon>
                                <Path Data="{StaticResource IconExport}" Style="{StaticResource MenuIconPath}" Width="12" Height="12" Margin="0"/>
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem Header="Crear ZIP portable" Click="BtnZipPortable_Click">
                            <MenuItem.Icon>
                                <Path Data="{StaticResource IconZip}" Style="{StaticResource MenuIconPath}" Width="12" Height="12" Margin="0"/>
                            </MenuItem.Icon>
                        </MenuItem>
                        <MenuItem Header="Crear ZIP single-file" Click="BtnZipSingleFile_Click">
                            <MenuItem.Icon>
                                <Path Data="{StaticResource IconZip}" Style="{StaticResource MenuIconPath}" Width="12" Height="12" Margin="0"/>
                            </MenuItem.Icon>
                        </MenuItem>
                    </MenuItem>
                    <MenuItem Header="Instalador">
                        <MenuItem.Icon>
                            <Path Data="{StaticResource IconInstalador}" Style="{StaticResource MenuIconPath}" Width="14" Height="14" Margin="0"/>
                        </MenuItem.Icon>
                        <MenuItem Header="Generar instalador" Click="BtnInstalador_Click">
                            <MenuItem.Icon>
                                <Path Data="{StaticResource IconInstalador}" Style="{StaticResource MenuIconPath}" Width="12" Height="12" Margin="0"/>
                            </MenuItem.Icon>
                        </MenuItem>
                    </MenuItem>
                    <Separator Background="#10FFFFFF" Height="1" Margin="5,2"/>
                    <MenuItem Header="Ejecutar todo" Click="BtnEjecutarTodo_Click">
                        <MenuItem.Icon>
                            <Path Data="{StaticResource IconPlay}" Style="{StaticResource MenuIconPath}" Width="14" Height="14" Margin="0"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>

                <MenuItem x:Name="BtnLimpiar" Click="BtnLimpiar_Click">
                    <MenuItem.Header>
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource IconLimpiar}" Style="{StaticResource MenuIconPath}"/>
                            <TextBlock Text="Limpiar publish" VerticalAlignment="Center"/>
                        </StackPanel>
                    </MenuItem.Header>
                </MenuItem>

                <MenuItem x:Name="MenuCombo">
                    <MenuItem.Header>
                        <ComboBox x:Name="ComboConfig" Width="120" VerticalContentAlignment="Center" Background="Transparent" Foreground="White" BorderThickness="0" Margin="5,0">
                            <ComboBoxItem IsSelected="True">
                                <StackPanel Orientation="Horizontal">
                                    <Path Data="{StaticResource IconPlay}" Fill="White" Width="12" Height="12" Stretch="Uniform" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                    <TextBlock Text="Release" VerticalAlignment="Center"/>
                                </StackPanel>
                            </ComboBoxItem>
                            <ComboBoxItem>
                                <StackPanel Orientation="Horizontal">
                                    <Path Data="{StaticResource IconCompilar}" Fill="#FFB900" Width="12" Height="12" Stretch="Uniform" Margin="0,0,8,0" VerticalAlignment="Center"/>
                                    <TextBlock Text="Debug" VerticalAlignment="Center"/>
                                </StackPanel>
                            </ComboBoxItem>
                        </ComboBox>
                    </MenuItem.Header>
                </MenuItem>

                <MenuItem x:Name="BtnConfig" Click="BtnConfig_Click">
                    <MenuItem.Header>
                        <StackPanel Orientation="Horizontal">
                            <Path Data="{StaticResource IconConfig}" Style="{StaticResource MenuIconPath}"/>
                            <TextBlock Text="Configuración" VerticalAlignment="Center"/>
                        </StackPanel>
                    </MenuItem.Header>
                </MenuItem>
            </Menu>
        </Border>

        <!-- LOG AREA -->
        <ListView Grid.Row="1" x:Name="LvLog" Background="#121212" Foreground="#fc0202ff" BorderThickness="0" Margin="10">
            <ListView.View>
                <GridView>
                    <GridViewColumn Header="Hora" Width="100" DisplayMemberBinding="{Binding Hora}"/>
                    <GridViewColumn Header="Mensaje" Width="800" DisplayMemberBinding="{Binding Mensaje}"/>
                </GridView>
            </ListView.View>
        </ListView>

        <!-- BOTTOM STATUS -->
        <Border Grid.Row="2" Background="#007ACC" Padding="10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                
                <StackPanel Orientation="Horizontal">
                    <TextBlock Text="Tiempo:" VerticalAlignment="Center" Margin="0,0,5,0"/>
                    <TextBlock x:Name="TxtTiempo" Text="00:00" VerticalAlignment="Center"/>
                </StackPanel>

                <ProgressBar Grid.Column="1" x:Name="ProgressTotal" Height="15" Margin="20,0" Background="#333333" Foreground="#4EC9B0" BorderThickness="0"/>

                <TextBlock Grid.Column="2" x:Name="TxtHora" Text="00:00:00" VerticalAlignment="Center"/>
            </Grid>
        </Border>
    </Grid>
</Window>
